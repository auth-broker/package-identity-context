{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/user/{user_id}":{"get":{"tags":["User"],"summary":"Get User By Id","description":"Get user by ID.","operationId":"get_user_by_id_user__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/user/oidc":{"get":{"tags":["User"],"summary":"Get User By Oidc","description":"Get user by OIDC subject and issuer.","operationId":"get_user_by_oidc_user_oidc_get","parameters":[{"name":"oidc_sub","in":"query","required":true,"schema":{"type":"string","title":"Oidc Sub"}},{"name":"oidc_iss","in":"query","required":true,"schema":{"type":"string","title":"Oidc Iss"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["User"],"summary":"Upsert User By Oidc","description":"Create or update a user based on OIDC info.","operationId":"upsert_user_by_oidc_user_oidc_put","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpsertByOIDCRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/user/{user_id}/seen":{"post":{"tags":["User"],"summary":"Seen User","description":"Mark user as seen (update last_seen timestamp).","operationId":"seen_user_user__user_id__seen_post","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"UpsertByOIDCRequest":{"properties":{"oidc_sub":{"type":"string","title":"OIDC Subject","description":"The subject (unique user identifier) provided by the OIDC provider."},"oidc_iss":{"type":"string","title":"OIDC Issuer","description":"The issuer URL or identifier of the OIDC provider."},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email Address","description":"Userâ€™s email address from the identity provider, if available."},"display_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Display Name","description":"Human-readable name shown in the UI."},"preferred_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preferred Username","description":"Username the user prefers to be known by (may differ from email)."}},"type":"object","required":["oidc_sub","oidc_iss"],"title":"UpsertByOIDCRequest","description":"Request model for creating or updating a user based on OIDC information."},"User":{"properties":{"is_active":{"type":"boolean","title":"Is Active","default":true},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"id":{"type":"string","format":"uuid","title":"Id"},"oidc_sub":{"type":"string","title":"Oidc Sub"},"oidc_iss":{"type":"string","title":"Oidc Iss"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"display_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Display Name"},"preferred_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preferred Username"},"last_seen":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Seen"}},"type":"object","required":["updated_at","created_at","oidc_sub","oidc_iss","last_seen"],"title":"User","description":"User model."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}